#
# NanoBox MySQL configuration
#

# The following options will be passed to all MySQL clients
[client]
port                  = 3306
socket                = /tmp/mysqld.sock
default-character-set = utf8

# The MySQL server
[mysqld]
user                    = gonano
port                    = 3306
basedir                 = /data
datadir                 = /data/var/db/mysql
socket                  = /tmp/mysqld.sock
bind-address            = 0.0.0.0
default-storage-engine  = innodb
character-set-server    = utf8
skip-external-locking
log_warnings
skip_name_resolve

# MyISAM settings
key_buffer_size         = 16M
sort_buffer_size        = 1M
read_buffer_size        = 1M
read_rnd_buffer_size    = 4M
myisam_sort_buffer_size = 64M
myisam-recover-options  = DEFAULT

# InnoDB settings
innodb_data_home_dir            = /data/var/db/mysql
innodb_log_group_home_dir       = /data/var/db/mysql
innodb_data_file_path           = ibdata1:100M:autoextend
innodb_buffer_pool_size         = 32M
innodb_log_file_size            = 100M
innodb_additional_mem_pool_size = 20M
innodb_log_buffer_size          = 8M
innodb_flush_log_at_trx_commit  = 2
innodb_lock_wait_timeout        = 50
innodb_doublewrite              = 0
innodb_io_capacity              = 1500
innodb_read_io_threads          = 8
innodb_write_io_threads         = 8
innodb_file_per_table


# Slow query log settings
# The default logs all full table scans,tmp tables,filesorts on disk queries
slow_query_log_file = /var/log/mysql/slowquery.log
slow_query_log      = 1

# Other general MySQL settings
performance-schema        = off
table_open_cache          = 64
thread_cache_size         = 100
query_cache_type          = 0
back_log                  = 64
tmpdir                    = /var/tmp
max_connections           = 200
max_allowed_packet        = 24M
max_join_size             = 9223372036854775807
net_buffer_length         = 2K
thread_stack              = 256K
tmp_table_size            = 64M
max_heap_table_size       = 64M
group_concat_max_len      = 1024


# Full Text Settings

# Plugin Configuration
plugin_dir=/data/lib/mysql/plugin

# Plugin-Specific Configuration

# Replication settings (master to slave)
# This is not enabled by default.  There are more steps
# to this besides uncommenting the lines below.
# See: http://wiki.joyent.com/wiki/display/jpc2/Replication
#
wsrep_provider=none
log-error         = /var/log/mysql/error.log

[mysqldump]
quick
max_allowed_packet = 16M

[mysql]
no-auto-rehash
# Remove the next comment character if you are not familiar with SQL
#safe-updates

[myisamchk]
key_buffer_size   = 128M
sort_buffer_size  = 128M
read_buffer       = 2M
write_buffer      = 2M

[mysqlhotcopy]
interactive-timeout
